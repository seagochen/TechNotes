@[toc]

只要是可编程的东西，作为一个程序员就一定会有编写函数的冲动，这是因为函数太XX好用了！

Shell作为Linux的文件系统管理利器，它专注于文件和系统管理的脚本语言，无疑与其他脚本语言相是极其羸弱的，以至于新生代程序员（例如千禧年之后出生的程序员）很多并不会Shell脚本编程，或具备对Shell脚本的修改能力。

作为这个系列的其中一部分，这一篇来聊聊如何用Shell来编写函数（其实本意是水一篇文章）。

# 编写一个基本的函数
要定义一个函数，你可以使用以下语法：

```shell
function function_name {
  commands
}
```

或者：

```shell
function_name() {
  commands
}
```

# 给函数赋值

在函数名后面的括号内，你可以定义函数的参数。例如，你可以定义一个带两个参数的函数：

例如，我们定义一个加法：

```shell
function add {
  result=$(($1 + $2))
  echo $result
}
```

又或者

```shell
add {
  result=$(($1 + $2))
  echo $result
}
```

然后它的调用形式如下：

```shell
add 3 4
```

我们也可以把函数的返回值赋值给一个变量：

```shell
result=$(add 3 4)
```

# 函数的参数形式

在函数中，你可以使用\$1、\$2、\$3等来引用函数的参数。\$0表示函数名，\$#表示参数的个数，\$*表示所有参数的列表，\$@表示所有参数的列表，但是每个参数都是一个独立的字符串。

例如，你可以使用以下函数来输出所有参数的列表：

```shell
function print_args {
  for arg in "$@"
  do
    echo "$arg"
  done
}
```

然后执行：

```shell
print_args 1 2 3 4 5
```

可以得到：

```shell
1
2
3
4
5
```



